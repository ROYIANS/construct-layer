# 《构造层》ARG游戏开发计划 - 第一章节

## 📋 项目概述

**目标**: 将小说第一章"快递"改编为去游戏化的沉浸式ARG体验
**核心理念**: 玩家操作"真实电脑系统",通过自主探索发现苏澜的故事
**技术栈**: React + TypeScript + 状态管理(Zustand/Redux)

---

## 🎯 第一章节范围定义

### 时间线
- **现实时间**: 2024年11月3日 14:37 - 18:00
- **游戏时长**: 预计30-90分钟(取决于玩家探索深度)
- **终点**: 玩家发现archive文件夹并看到隐藏文字层

### 核心剧情要素
1. 玩家开机进入"苏澜的电脑"
2. 探索桌面文件夹(工作文件/生活杂物)
3. 发现微信聊天记录的异常
4. 浏览器历史记录的诡异搜索
5. 发现.system隐藏文件夹
6. 解锁archive文件夹的隐藏图层

---

## 🖥️ 系统设计

### 启动体验
```
玩家进入 → 黑屏 → ThinkPad启动画面 → Windows 10登录界面(无密码)
→ 自动登录 → 桌面淡入 → 系统时间: 2024-11-03 14:37
```

**关键设计原则**:
- ❌ 没有"开始游戏"按钮
- ❌ 没有教程提示
- ❌ 没有任务列表
- ✅ 完全模拟真实Windows 10系统

---

## 📁 文件系统架构

### 桌面结构
```
Desktop/
├── 工作文件/
│   ├── 设计稿_教育平台UI_v1.png
│   ├── 设计稿_教育平台UI_v2.png
│   ├── 需求文档_在线教育平台UI改版方案v3.pdf
│   ├── 报价表_Q2项目.xlsx
│   └── archive/ (初始隐藏,触发条件后出现)
│       └── 关于网络失踪案例的初步整理.pdf
│
├── 生活杂物/
│   ├── 追剧清单.txt
│   ├── 游戏攻略截图_空洞骑士01.png
│   ├── 游戏攻略截图_空洞骑士02.png
│   ├── 外卖收藏夹.json (可用记事本打开)
│   └── 读书笔记.docx
│
└── 回收站/ (空)

C:\Users\SuLan\
├── Documents\
│   ├── 工作文件\
│   ├── 生活杂物\
│   └── .system\ (隐藏文件夹)
│       ├── sequence.txt
│       ├── draft_8.txt
│       ├── CORE_README.txt
│       └── observer.exe
│
└── AppData\
    └── Local\
        └── Google\Chrome\User Data\Default\
            └── History (浏览器历史数据库)
```

---

## 🎮 交互系统设计

### 1. 桌面交互
- **双击**: 打开文件/文件夹
- **右键**: 显示上下文菜单(属性/删除/重命名等)
- **拖拽**: 移动文件(可选功能)
- **任务栏**: 显示已打开窗口、系统托盘、时间

### 2. 窗口系统
- **最小化/最大化/关闭**: 标准窗口操作
- **多窗口管理**: 可同时打开多个窗口
- **Alt+Tab**: 切换窗口(可选高级功能)

### 3. 文件查看器
**支持格式**:
- `.txt` → 记事本样式
- `.pdf` → 简化PDF阅读器
- `.png/.jpg` → 图片查看器
- `.xlsx` → 表格预览(只读)
- `.docx` → 简化Word查看器

### 4. 浏览器系统
**功能模块**:
- 地址栏(可输入URL或搜索)
- 后退/前进/刷新按钮
- 书签栏(显示常用网站)
- **历史记录**(核心线索来源)
- 新标签页

**可访问网站**(第一章节范围):
- `about:blank` (重要线索)
- 百度地图(查看文三路127号)
- 知乎(搜索结果模拟)
- 豆瓣(搜索结果模拟)
- 贴吧(已删除帖子页面)

### 5. 微信模拟
**界面元素**:
- 联系人列表
- 聊天记录(只读)
- 消息时间戳(核心线索)

**关键对话**:
- 阿景/小鱼(周末局群聊)
- 妈妈(最后一条"知道啦")

---

## 🔍 核心谜题设计

### 谜题1: 失踪的时间线
**线索分布**:
- 微信最后消息: 5月17日
- 浏览器搜索记录: 5月17日 23:47 - 5月18日 00:11
- 之后每天凌晨3:17的about:blank访问
- 工作文件修改时间: 4-6月

**玩家应得出结论**: 苏澜在5月18日凌晨后消失

---

### 谜题2: 奇怪的浏览记录
**异常内容**:
```
5月17日 23:47 - "如何判断一个人是否在说谎"
5月17日 23:52 - "数字足迹可以被完全清除吗"
5月17日 23:58 - "有哪些关于'消失'的电影推荐"
5月18日 00:03 - 贴吧帖子(已删除)
5月18日 00:11 - "互联网上有哪些著名的都市传说"

5月18日 03:17 - about:blank
5月19日 03:17 - about:blank
...持续到10月31日
```

**设计意图**: 让玩家感到不安,产生"凌晨3:17"的记忆点

---

### 谜题3: 隐藏文件夹触发
**触发条件**(多条件OR逻辑):
1. 打开系统时间超过15分钟
2. 查看浏览器历史记录
3. 尝试搜索"隐藏文件"相关关键词
4. 右键查看文件属性超过3次

**触发方式**:
- 屏幕右下角系统托盘弹出通知:
  ```
  系统提示
  发现新的隐藏文件。是否查看?
  [是] [否]
  ```
- 点击"是" → 自动打开文件管理器,导航至archive文件夹

---

### 谜题4: PDF隐藏图层
**文件**: `关于网络失踪案例的初步整理.pdf`

**内容结构**:
- **可见内容**: 8个案例的详细记录
- **隐藏图层**: 白底白字文本(需要全选或特定操作显示)

**触发隐藏内容的方式**(多选一):
1. 滚动到最后一页并停留5秒
2. 使用Ctrl+A全选文本
3. 点击工具栏的"图层"按钮(如果玩家发现)

**隐藏内容核心**:
```
那8个人,都是我。
...
如果你想继续,去找"sequence.txt"。
它在VS Code的最近打开文件里。
```

---

## 🌐 互联网内容设计

### 百度地图
- **地址**: 杭州市西湖区文三路127号
- **街景**: 显示普通公寓楼,一楼便利店
- **功能**: 可缩放、查看街景(图片)

### 知乎搜索结果(模拟)
**搜索词**: "如何判断一个人是否在说谎"
- 3-5个问题卡片(标题+简介)
- 点击进入 → 显示简化的问答页面
- **无关内容为主**,偶尔有微弱线索(可选)

### 贴吧删除页面
**URL**: `tieba.baidu.com/p/7892347812`
**显示内容**:
```
该内容因违规已被删除

如需帮助,请联系贴吧管理员
```

---

## 🎨 视觉与音效设计

### 视觉风格
- **配色**: Windows 10默认主题(浅色/深色可选)
- **字体**: 微软雅黑/Segoe UI
- **图标**: Windows 10标准图标库
- **壁纸**: 海边日落照片(温暖但略带忧郁)

### 音效设计(可选)
- 开机音效
- 鼠标点击音
- 窗口打开/关闭音
- 系统通知音
- **环境音**: 微弱的硬盘运转声、风扇声

### 动画细节
- 窗口淡入淡出(200ms)
- 文件加载进度条(假加载,增强真实感)
- 鼠标悬停高亮
- 系统时间实时更新(每分钟)

---

## 📊 状态管理系统

### 核心状态
```typescript
interface GameState {
  // 时间系统
  systemTime: Date; // 当前系统时间
  realPlayTime: number; // 真实游玩时长(秒)

  // 探索进度
  filesOpened: string[]; // 已打开文件路径
  foldersExplored: string[]; // 已浏览文件夹
  browserHistoryViewed: boolean; // 是否查看浏览器历史
  wechatMessagesRead: string[]; // 已读微信对话ID

  // 触发条件
  hiddenFolderDiscovered: boolean; // 是否发现.system
  archiveUnlocked: boolean; // archive文件夹解锁
  pdfHiddenLayerRevealed: boolean; // PDF隐藏图层显示

  // 窗口管理
  openWindows: Window[]; // 当前打开窗口列表
  activeWindowId: string; // 活动窗口ID

  // 用户行为记录
  mouseClicks: number;
  keyboardInputs: string[];
  suspiciousBehavior: number; // 异常操作计数(右键频繁/搜索特定词)
}
```

### 自动存档
- 使用`localStorage`保存状态
- 每30秒自动保存一次
- 支持刷新页面后恢复进度

---

## 🔀 分支与非线性设计

### 第一章节特征: **单线程探索,多路径抵达**

玩家没有明确的"选择分支",但探索路径是非线性的:

**可能的探索顺序A**:
```
桌面 → 工作文件 → 生活杂物 → 微信 → 浏览器历史 → 触发隐藏文件夹
```

**可能的探索顺序B**:
```
桌面 → 浏览器 → 搜索"隐藏文件" → 触发提示 → 微信 → 工作文件
```

**可能的探索顺序C**:
```
什么都不做 → 系统时间流逝15分钟 → 自动触发隐藏文件夹提示
```

### "卡住"机制
**如果玩家长时间无操作**:
- 15分钟后: 系统通知(发现隐藏文件)
- 30分钟后: 浏览器自动打开一个标签页(about:blank)
- 45分钟后: 微信消息提示闪烁

**设计意图**: 温和引导,但不破坏沉浸感

---

## 🎯 章节结束条件

### 完成标志
玩家触发以下任一条件,进入"第二章准备状态":

1. **标准结局**: 打开archive文件夹内的PDF,并查看隐藏图层
2. **快速结局**: 直接在文件管理器中找到`.system`文件夹
3. **时间结局**: 游玩时间超过3小时,系统自动推进

### 过渡设计
```
玩家看到隐藏文字: "去找sequence.txt"
→ 屏幕短暂闪烁(1秒黑屏)
→ 系统时间跳转到 18:14
→ 桌面出现新的系统通知: "VS Code有未读文件"
→ 第一章结束,进入"保存并退出"或"继续第二章"提示
```

---

## 🛠️ 技术实现要点

### 组件结构
```
App
├── SystemLayer (系统层)
│   ├── Desktop (桌面)
│   ├── Taskbar (任务栏)
│   └── NotificationCenter (通知中心)
│
├── WindowManager (窗口管理器)
│   ├── FileExplorer (文件管理器)
│   ├── TextEditor (记事本)
│   ├── PDFViewer (PDF阅读器)
│   ├── ImageViewer (图片查看器)
│   ├── Browser (浏览器)
│   └── WeChatApp (微信)
│
└── StateProvider (全局状态)
```

### 文件系统模拟
```typescript
interface VirtualFile {
  path: string;
  name: string;
  type: 'file' | 'folder';
  content?: string | Blob; // 文本或二进制内容
  createdAt: Date;
  modifiedAt: Date;
  hidden?: boolean;
  locked?: boolean;
}

// 使用IndexedDB存储大文件(如PDF/图片)
```

### 浏览器历史模拟
```typescript
interface BrowserHistory {
  url: string;
  title: string;
  timestamp: Date;
  favicon?: string;
}

// 预设历史记录数组,按时间排序
```

---

## 📝 内容资产清单

### 文本文件
- [x] 追剧清单.txt (50字)
- [x] 读书笔记.docx (200字)
- [x] 外卖收藏夹.json (结构化数据)
- [x] 需求文档PDF (2000字 + 假装的设计图)
- [x] 关于网络失踪案例的初步整理.pdf (8000字 + 隐藏图层)
- [x] sequence.txt (预留,第二章使用)

### 图片资产
- [ ] 设计稿_教育平台UI_v1.png (UI mockup)
- [ ] 设计稿_教育平台UI_v2.png
- [ ] 游戏攻略截图_空洞骑士.png (2张)
- [ ] 桌面壁纸_海边日落.jpg

### 界面资产
- [ ] Windows 10图标库(文件夹/文件类型图标)
- [ ] 浏览器Favicon(百度/知乎/豆瓣等)
- [ ] 微信头像(橘猫/阿景/小鱼/妈妈)

---

## 🧪 测试计划

### 用户体验测试
**测试场景**:
1. 玩家完全不探索,等待系统引导
2. 玩家疯狂点击所有文件
3. 玩家专注浏览器历史记录
4. 玩家尝试右键菜单的每个选项

**测试指标**:
- 平均完成时间: 30-90分钟
- 隐藏文件夹发现率: >80%
- PDF隐藏图层发现率: >60%
- 中途退出率: <20%

### 技术测试
- [ ] 窗口层级管理正确性
- [ ] 状态持久化(刷新页面后恢复)
- [ ] 移动端适配(可选)
- [ ] 性能优化(首屏加载<3秒)

---

## 🚀 开发里程碑

### Phase 1: 核心框架 (2周)
- [ ] 桌面与任务栏系统
- [ ] 窗口管理器(打开/关闭/层级)
- [ ] 文件系统架构
- [ ] 状态管理集成

### Phase 2: 应用实现 (3周)
- [ ] 文件管理器
- [ ] 记事本/PDF/图片查看器
- [ ] 浏览器(历史记录系统)
- [ ] 微信聊天界面

### Phase 3: 内容填充 (2周)
- [ ] 所有文本文件编写
- [ ] PDF生成(含隐藏图层)
- [ ] 浏览器历史记录脚本
- [ ] 微信对话脚本

### Phase 4: 交互与谜题 (1周)
- [ ] 隐藏文件夹触发逻辑
- [ ] PDF图层解锁机制
- [ ] 系统通知系统
- [ ] 时间流逝引导

### Phase 5: 测试与优化 (1周)
- [ ] 内部测试与bug修复
- [ ] 用户体验测试
- [ ] 性能优化
- [ ] 音效与动画细节

**总计: 约9周开发周期**

---

## 📄 后续章节预留接口

### 第二章需要的新系统
- VS Code模拟器(查看sequence.txt)
- 任务管理器(观察observer.exe)
- 虚拟机系统(VirtualBox)
- 系统时间跳跃机制

### 数据持久化
```typescript
interface ChapterProgress {
  chapter: number;
  completedAt?: Date;
  discoveries: string[]; // 玩家发现的线索列表
  choices?: string[]; // 后续章节的选择记录
}
```

---

## 💡 创新点与风险

### 创新点
1. **完全去游戏化**: 没有明显的游戏UI元素
2. **真实系统模拟**: 不是"像"操作系统,而是"就是"操作系统
3. **高噪声设计**: 大量无用信息增强真实感
4. **时间作为叙事**: 系统时间流逝影响剧情

### 潜在风险
1. **玩家可能完全迷失**: 缺乏引导可能导致放弃
   - **解决方案**: 时间触发的温和提示
2. **开发复杂度高**: 模拟完整操作系统工作量大
   - **解决方案**: MVP先实现核心功能,细节逐步完善
3. **移动端体验差**: 操作系统设计不适合手机
   - **解决方案**: 第一版仅支持桌面,移动端适配延后

---

## 🎬 开场体验设计

### 玩家进入流程
```
1. 访问网站URL
2. 黑屏,ThinkPad logo淡入
3. "ThinkPad" 启动音
4. Windows 10加载动画(旋转圆圈)
5. 登录界面(壁纸: 海边日落)
   - 头像: 橘猫
   - 用户名: 苏澜
   - 密码框: 空(无密码)
6. 自动登录(无需点击)
7. 桌面淡入
   - 任务栏显示
   - 时间: 2024-11-03 14:37
   - 鼠标指针出现
8. 2秒后,鼠标可操作
9. 没有任何提示文字
```

**第一印象**: "我打开了别人的电脑"

---

## 🔚 结语

这份计划将小说第一章改编为一个**30-90分钟**的沉浸式探索体验。玩家通过自由操作"苏澜的电脑",逐步发现失踪案件的蛛丝马迹,最终解锁通往第二章的关键线索。

**核心设计哲学**:
- 真实感 > 游戏性
- 发现 > 被告知
- 沉浸 > 引导
- 认知变化 > 通关反馈

下一步可以开始**Phase 1核心框架开发**,或根据反馈调整计划。

---

**文件名**: `第一章节开发计划.md`
**版本**: v1.0
**更新日期**: 2024-12-14
